<section class="candidates-section">
  <h1>Candidates</h1>
</section>
<main class="candidates-table table-responsive">
  <table id="candidates" class="table">
    <thead>
    <tr class="filters" #candidatesColumns>
      <th>Photo</th>
      <th>
        <label>
          Name
          <input id="name" #name type="text" class="form-control"
                 (keyup)="filtering(name.id, name.value)">
        </label>
      </th>
      <th>
        <label>
          E-mail
          <input id="email" #email type="text" class="form-control"
                 (keyup)="filtering(email.id, email.value)">
        </label>
      </th>
      <th>
        <div class="btn-group" dropdown>
          <button id="button-position" dropdownToggle type="button"
                  class="btn dropdown-toggle button-position"
                  aria-controls="dropdown-position">
            <span>{{filterPosition}}</span>
            <span class="caret"></span>
          </button>
          <ul id="dropdown-position" *dropdownMenu class="dropdown-menu dropdown-position"
              role="menu" aria-labelledby="button-position" (click)="setFilterPosition($event)">
            <li role="menuitem" *ngFor="let vacancy of vacancies">
              <a class="dropdown-item">{{vacancy.position}}</a></li>
            <li class="divider dropdown-divider"></li>
            <li role="menuitem">
              <a class="dropdown-item">All positions</a>
            </li>
          </ul>
        </div>
      </th>
      <th>
        <div class="btn-group" dropdown>
          <button id="button-status" dropdownToggle type="button"
                  class="btn dropdown-toggle button-status"
                  aria-controls="dropdown-status">
            <span>{{filterStatus}}</span>
            <span class="caret"></span>
          </button>
          <ul id="dropdown-status" *dropdownMenu class="dropdown-menu dropdown-status"
              role="menu" aria-labelledby="button-status" (click)="setFilterStatus($event)">
            <li role="menuitem" *ngFor="let status of statuses">
              <a class="dropdown-item">{{status.name}}</a>
            </li>
            <li class="divider dropdown-divider"></li>
            <li role="menuitem">
              <a class="dropdown-item">All statuses</a>
            </li>
          </ul>
        </div>
      </th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let candidate of candidates">
      <td class='candidate-photo'>
        <div><img src='{{candidate.image}}' alt='' width='100'></div>
      </td>
      <td class='candidate-name'>{{candidate.name}}</td>
      <td class='candidate-mail'>{{candidate.email}}</td>
      <td class='candidate-position'>{{candidate.position}}</td>
      <td class='candidate-stage'>{{candidate.status}}</td>
      <td><a [routerLink]="['/profile/', candidate.id]">Show Profile</a></td>
    </tr>
    <tr class="text-center" *ngIf="notFound()">
      <td [attr.colspan]='numberColumns'>No result found</td>
    </tr>
    </tbody>
  </table>
</main>

<app-footer [range]="range" [total]="total" [currentRows]="pagination.rows" (changeRows)="changeRowsNumber($event)"
            (goToPage)="goToPage($event)"></app-footer>

